---
page_title: "cancom_object_storage_user Resource - terraform-provider-cancom"
subcategory: "Object Storage"
description: |-
  Create a new user for the S3 API and assign permissions to the user.
  You can set IAM policy documents that adheres to the AWS Identity and Access Management (IAM) policy structure.
  The document defines permissions using a JSON-based format, following the official AWS specifications https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html for IAM policies.
  Example:
  
  {
  	"Statement": [
  			{
  				"Effect": "Allow",
  				"Action": "*",
  				"Resource": "*"
  			}
  	]
  }
  
  We recommend using the jsonencode TerraForm function to convert your policy document into a JSON string.
---

# cancom_object_storage_user (Resource)

Create a new user for the S3 API and assign permissions to the user.

You can set IAM policy documents that adheres to the AWS Identity and Access Management (IAM) policy structure. 
The document defines permissions using a JSON-based format, following the official [AWS specifications](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html) for IAM policies. 

Example: 

```json
{
	"Statement": [
			{
				"Effect": "Allow",
				"Action": "*",
				"Resource": "*"
			}
	]
}
```

We recommend using the `jsonencode` TerraForm function to convert your policy document into a JSON string.

## Example Usage

```terraform
resource "cancom_object_storage_user" "user" {
  username     = "svc-testuser"
  description  = "This is a test user"
  permissions  = jsonencode({
    Statement = [
        {
            Effect = "Allow"
            Action = "*"
            Resource = "*"
        }
    ]
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `permissions` (String) The IAM permission document.
- `username` (String) Name of the user. The name must be unique inside your account.

### Optional

- `description` (String) Description what the user is used for
- `include_credentials` (Boolean) Add the user credentials into the Terraform state. If set, `access_key_id` and `secret_access_key` will be populated into the state. Otherwise, an empyt string will be written to the state. Please note that, since the credentials are only available once, manually regenerated credentials will not be synchronized into the state. If you must reroll the credentials, please consider recreating the user instead.

### Read-Only

- `access_key_id` (String, Sensitive) The access key of the user. Only included if `include_credentials` is set to true.
- `id` (String) The ID of this resource.
- `secret_access_key` (String, Sensitive) Secret Access Key. Only included if `include_credentials` is set to true.
